using System;
using System.Diagnostics;

namespace Day3
{
    static class forest
    {
        static string[] map = new string[]
        {
            "....#...............#.#..###.##",
            ".#..#....###..............##...",
            "....###......#....#.#...#.##..#",
            ".......#........#..###...##....",
            ".....#..#......#..#..##..#...#.",
            "....#..........#....#...#......",
            "............###...#............",
            "##......#.....#......#.....##..",
            "........#.........##..#.#...##.",
            "....#.#..#.#...#........#..#...",
            ".#.....#.#......#....#..#..#..#",
            "#.##..##......#.....##...#..#..",
            "#........#..##...###....##.....",
            "......#.#..##...#.#.....#......",
            "##.......#..#.........#...#....",
            ".....##.........#....#.#.###.#.",
            "..##...........#.#.#.#.....#.#.",
            "....#...............#......#.#.",
            "#.#..#....#.....#.....##...#..#",
            "#......#..............#.#.##...",
            "......###.....#...#........###.",
            "####...#.....#...#....#........",
            ".......#...#....##...#.........",
            ".####..##............#.........",
            "#.#...#...#....#...#.#......#..",
            "..#..#.....#.......#...#.#...##",
            ".#.........#...#......##.#...#.",
            ".#.#...#...#.....#.#........#.#",
            ".#.....###....###..##.#..##.#..",
            ".....##....#......#..#...#...#.",
            "#...##....#.......#.....##.##..",
            "#...#.....#.#...........#..###.",
            "##.#........###...........###.#",
            "#...#.#........#.#.....#.......",
            "..................#..#.........",
            ".....#.#..#.#......#..#.....##.",
            ".#.#.......#..##........#..##.#",
            ".#.#..#.#...#.......#.#.#..#...",
            "...#......#....#....##.#..#....",
            "......#.......##....##..#.....#",
            "...#.##...##...............#..#",
            ".###....#.#.....##..#.......#.#",
            "#....#..........#...........#.#",
            "...#...............#.#..#....#.",
            ".....#..##..........#..###.....",
            ".....####.....#.#.......#...#..",
            "#.............#...#.......##...",
            ".#....##.......#.#......#.#.##.",
            ".#..#.......#..##...#...#......",
            "#.......#..#..#..#.....#.......",
            "##...#.#.#...........#....#....",
            ".......#..#.#..............#.#.",
            ".....#.......#.......#.#.#.....",
            "....##.##.....#......#.......#.",
            "#...#..#.#....###....##...#.#.#",
            "#..#......#........#.#.#.....#.",
            "###..##..#......#.....#.......#",
            "..##....#.#.#......#..##...#...",
            ".....#..#....#...#.#...#...#...",
            ".....#.#..###.#..#...##......#.",
            "#.#..#....#..#.....#.#...#.#...",
            ".#..#....#.......#..#.......#..",
            "#.........#..#..#.........##..#",
            "..##.##..#..#...##.............",
            ".....###...#..#...##.#..#......",
            "#.##.....##..............#.....",
            ".......#.##.#.##...#.#.......##",
            "...#.#.##...#......#...........",
            "##.#........#.....##.....#.....",
            ".#.....#.............#......#..",
            "....#..##..#..#....#..#.#......",
            ".#.....#....##..##..#...##.....",
            ".##........#.#.#.#..........#.#",
            "...#.#.#..#....#...#..###.##...",
            ".#....#....#.#.#.#....#..#.....",
            "#.#.......#..#..#...........#.#",
            ".....#.....##..#....##.........",
            "....#.##..............#........",
            ".................#....#.......#",
            "...................###...#...#.",
            "...#.#..#..##..##....#.....#...",
            "#...#..........................",
            ".......#..#..#.#..#.....#......",
            "..##.#..#......#...#.##..##..#.",
            ".##.........#.#...........#....",
            "...#...#..##.#......#..#..#....",
            ".....#.#....#...#............#.",
            ".##..#.....##....#...#.........",
            "#......##...#...#............#.",
            ".....#.##...#.#....##..........",
            ".............#.......#.#.......",
            "##....#.#........#....#..##....",
            "....#...##.#....##..#.....#.#..",
            "...##..#....##......#...#......",
            ".####.#..#..#.#...#.#.#....#...",
            ".#........#.##....#.#....#.....",
            ".........#....##..#..#.........",
            "....##...#....##.............#.",
            "....#..##.#....#.#..#...##.....",
            ".....##...#..#....#......#.#...",
            "..........#.......#.##..#.##..#",
            ".......#.........#...#.##......",
            "....##.#.......#...............",
            "....#.......#..##.......##.#.##",
            "#.#..#.#....#.#.........###...#",
            ".#.##.....##..##...........#.#.",
            "...#....##........##...#...#...",
            ".#.##....#.#...#.#..#..#...#...",
            "#....#.##...#.#..#....#.....#..",
            "#..#...#........#...........#..",
            "...........#.......#......#..#.",
            "....##...#......##.....#......#",
            ".#.##.#.#.............#....##..",
            ".#...#...##.#.#........#..##.#.",
            ".#.#........#.#...#..#........#",
            ".###.#.#...#..#..#.#....#..#...",
            "..##..##....#.#............#...",
            "#..........#........#..#.#.#...",
            ".#...#..#..#.#.....#.....#....#",
            "#.....#.#.#.....####.......#...",
            "...#.#........#.#.###...#.....#",
            ".....#.....##....#....#..##...#",
            "..#....###.##.#..#..#....#...#.",
            ".....#.....#...........#.#.###.",
            ".....#......###...#.#...##.....",
            "...........###..#...#....#.#..#",
            "...#..###.....#....#.#...#.....",
            ".......#...#..#..##....#.#.#...",
            "...#..####.###........#.....#..",
            "..#......###..#..#.##..........",
            "....#....##..##..##.......###..",
            "...#.......#..#.#....##........",
            ".#.#.....#.#.#..........#..#..#",
            ".##....##....##...........##.##",
            "........#......#.##....##...#.#",
            "..#.#.....#..#....#..........#.",
            "...........#...............#...",
            ".....####.....#.....###.#..#...",
            "..........####..##.##.#....#...",
            "...#.#.#......#....#..#.#......",
            ".#.#......###.....#....#.......",
            "..#..#..#.......#..#...#.....#.",
            "...#............#......##...###",
            "......#.............#..#..###..",
            ".#.#......#..##.#..#..#.#...#.#",
            ".#.....#.......#..#...........#",
            "..#.###.#..#...#.##..#.##......",
            "....#.#........#..#.#...#.#.##.",
            ".#..##.#..#.#.#...##..#.#......",
            ".......#..#..#..#.....#.#.#..#.",
            ".##.###..##.....#.##..#........",
            "...##..............#.#.##....#.",
            "##....#...#...........#........",
            "..#........#.#.##..#.#...#..#..",
            ".......#.......##.#..#....#.#..",
            ".......#....##..#.#.#..#....#..",
            "..........#....#..#..#....#....",
            "........#.....#.#.....##.......",
            "........##.###.........#.#.#...",
            "###......####...#.#........#...",
            "......#........#......#.....#..",
            "##..#.##..##.###..#........##..",
            ".#..#...#............##.##..#..",
            "...........#..#.#..............",
            ".##.#.#....#...............#..#",
            ".........##.................#..",
            "#............##..##.........##.",
            "##........#.........#..##.#...#",
            "........#.....#..#.........#.##",
            "....#......#.....##.##.........",
            ".#.#.....#.#..#..##....#....#..",
            ".###...#..##....##.....#.#..##.",
            ".#....#.#.......#..#..#...###..",
            "..#.#......#.#..#.....###.....#",
            "#....#..#...#.....#.......#.##.",
            ".#.......##.#.#...#......#.....",
            "###....#.#......#....#.#...##..",
            "...#....####.......##.....#..#.",
            ".#.................#.......##.#",
            "...#.###..........#..##......#.",
            ".....##.#..............##..#...",
            "#.....#..#..........#..#.......",
            "..#...#.#.#.......##.#.....#...",
            "#........#.#........#.#.....#..",
            "#.....#...##....##..##........#",
            ".#.##..#...#....#........#..#..",
            "#..#.....#....#...##......#....",
            "...#...#...#.#.#....##....#.#.#",
            "......#...............#.....#..",
            ".......#.#..#..##.#.....#......",
            "...........##......#...#.......",
            "....##..##.....#.#...#.........",
            "......##..###.......#....#.##..",
            "......#..#.##....#..###..#.....",
            ".....#.........#........##.....",
            ".....####..................#...",
            ".#.#...##................#.....",
            ".#..#...#...#.....#.##..#..#...",
            ".#................#...###....#.",
            "...#....#...........#...#....#.",
            ".......#....##...............#.",
            ".#.#.##..##.......#....#....###",
            "......#.#....#...#..#..........",
            "....#.##.#.#...##.#.#......#...",
            "##....#...##.....#..#.###.#....",
            ".......#......#.........#.#...#",
            ".##.#...........##.........#.#.",
            "##..##.....#...#..#.#...#....#.",
            "#..##......###........#...#....",
            ".....#.#.......#...#..##....##.",
            ".....#.#..#.....#.......#..##..",
            "...#..#..............#.#.......",
            ".#.#...###......###............",
            ".....#.....#...#.###...........",
            ".......#..................#...#",
            "#....#...#...#....#....#.#....#",
            "....#..#............#.#........",
            "#....#..........#.#.#..#..#....",
            ".......#....#......#....#......",
            ".##.#.#...#...#...##...........",
            ".........###.#..#..............",
            "...#........##....#....#....###",
            "....##..#.......#.#...#.#..#.#.",
            ".....##....#..##.........#.....",
            "........##..#........#.........",
            "...........#..#.##..##...#.....",
            ".........#.#..####..#...#.##.##",
            "##..#.#.....##.....#.........#.",
            "..#...#...#....#.#....#.....#.#",
            ".###.#....#.#......#....#......",
            ".##.....#....#.......#.#..#.##.",
            "#..#..##.....#....#...##.....#.",
            "...#.........####.........##..#",
            "..#.....#....###.#.#...#..#....",
            ".........#....#..#.#.........#.",
            ".....###.##..#...#.....#..#..#.",
            "....#......#..#.#...#.....#....",
            ".......#...#..#....#.......#.#.",
            ".#....#............#....####...",
            "#..##..##....#.....#...#.....#.",
            "...#...##...#.#....#...........",
            ".......#####.....#..###.#..#...",
            ".....#.....#.#....#.........#..",
            ".###.#..#...##.##.#.#..#..#....",
            ".#..#.##..#......#..........##.",
            "##....#....#.........###..#....",
            "..#.............#.......#.#....",
            "..#.....#..##...#...###..#.##..",
            "##...##...#.#....#..#..........",
            "...............#.....#.......#.",
            "....#.#......##.#......#...#.#.",
            ".........#.............#.#.....",
            "...#.#.........................",
            "..#..#....##..#...###.##.......",
            "...##.#...##..#.#.##.#...#.##..",
            ".##....#....#.......#.....##..#",
            ".#...............#..#...#......",
            "...##.....##.###....#.....#...#",
            "...#.....#...####....##....#..#",
            "..#.#.###..##.....#........#...",
            ".....##.##..#..#.........##....",
            "........##.....#..........#.##.",
            "..##.#....####..#...........#..",
            "##....#..#..#.#.##.....#...##..",
            "...#...#......#..#.#....#......",
            "##.....##.......##.##....#.....",
            ".........#...##...........#....",
            ".###.#..#....##...#.....#.....#",
            "...#..........#.###..##...#.##.",
            "...#..#....#.#.#.......###.....",
            "....#..#.#.....##...#.#.#.#....",
            ".......##..#...##..##.#....#...",
            ".##..........#.#.#.....#.....#.",
            "#....#......##...#..##.#..#..#.",
            ".#...#.....###..#......#.....#.",
            ".#..#.###.......#.##....###....",
            "#....#....#....#....#..#.##....",
            "..#..#.....#.....#....###.....#",
            "##.###..#...##.......#.#.......",
            "#...##......##....#.#...#....#.",
            "..##.#.#....#...#.....##.......",
            ".#....#..#...#...##..##........",
            "###......#.##....#.#..##.......",
            "...#.....##.#.........#..#.....",
            ".......#.#....#.....##......#..",
            "#..#..............##.#........#",
            "....#.#....#..#.#...##.........",
            "..........#..........#.........",
            ".#.....#.....#.##....#.##..#..#",
            ".......#.......#.#.#.##....#...",
            "..#...........#....#.......##..",
            "..#.#.#.#...##..#.#.#..#...#.#.",
            "..#..#..........#...##....#....",
            "....##.#....#.............#....",
            ".##...##..........#.#..#...#...",
            "#..#..#.##..........##.........",
            "............#.......#..#.....##",
            "....#......#........#..#.##....",
            "#.#......#.#...#.....#.........",
            "..#.....#..#..........#.....#..",
            ".#..#.#.#.##...#..#.#.........#",
            "#...##....#..##..#...#.#.##....",
            "#..##.##.#.##.......#.......#..",
            "#.#.......#........#.##....#.#.",
            "....#..##....##..##......#..##.",
            "#.....#....#.#........####.....",
            "......#...#...###..#...........",
            ".##.#.##...##................##",
            "..##.#.....#.#..#......#.#.....",
            "......#...#........#.....#.##..",
            "#..#.#..#.....#.#..#..##..#.#..",
            "...#.........#.#.#.##...#......",
            "...#..##....#..#.#....#.###.#..",
            "........###................##.#",
            "##...........#......##.##.....#",
            ".#.#.#....#....#....#..........",
            "#.....#........................",
            "....#.....#...#......#.........",
            "....#.#..#..............#......",
            "##.........#..#....#.......#...",
            ".###....#..#.#.####.........#..",
            "..#.#....#.....###..#..........",
            "..........#................#.##"
        };

        static char getrowfeature(int row, int col)
        {
            int map_row_size = map.Length;
            int map_col_size = map[0].Length; // all rows same size

            return map[row][col % map_col_size];
        }

        public static int counttrees(int right, int down)
        {
            int row = 0; int col = 0;
            int trees = 0;

            do
            {
                if (getrowfeature(row, col) == '#')
                    trees++;

                row += down;
                col += right;
            } while (row < map.Length);

            return trees;
        }
        
        

    }


    class Program
    {
        static void Main(string[] args)
        {
            Stopwatch sw = new Stopwatch();
            Console.WriteLine("Code of advent 2020 - Day 3");
            sw.Start();
            long res = forest.counttrees(right:1, down:1);
            res *= forest.counttrees(right: 3, down: 1);
            res *= forest.counttrees(right: 5, down: 1);
            res *= forest.counttrees(right: 7, down: 1);
            res *= forest.counttrees(right: 1, down: 2);
            sw.Stop();
            Console.WriteLine(res);
            Console.WriteLine("Time elapsed for day3 part2 .NET 5 (ms): {0}", sw.Elapsed.TotalMilliseconds);
        }
    }
}
